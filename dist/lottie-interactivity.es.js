function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function o(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function r(e,t){var n=t.get(e);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(e):n.value}var a={player:"lottie-player"},i=function(){function i(){var n=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,y=r.actions,u=r.container,f=r.mode,m=r.player,h=(r.playerInstance,o(r,["actions","container","mode","player","playerInstance"]));if(t(this,i),s.set(this,{writable:!0,value:function(){try{var e=n.boundingBoxUtils().action;"loop"===e.type?!0===n.player.isPaused&&n.player.playSegments(e.frames,!0):"play"===e.type?(!0===n.player.isPaused&&n.player.resetSegments(),n.player.playSegments(e.frames)):"stop"===e.type&&(n.player.goToAndStop(e.frames[0]),n.player.stop())}catch(e){}}}),l.set(this,{writable:!0,value:function(){try{var e=n.boundingBoxUtils().action;"loop"===e.type||"play"===e.type?n.player.stop():"stop"===e.type&&n.player.playSegments(e.frames,!0)}catch(e){}}}),p.set(this,{writable:!0,value:function(){try{var e=n.boundingBoxUtils(),t=e.currentPercent,o=e.action;n.player.loop=!0,"seek"===o.type?(n.player.playSegments(o.frames,!0),n.player.goToAndStop(Math.ceil((t-o.start)/(o.end-o.start)*n.player.totalFrames),!0)):"loop"===o.type?!0===n.player.isPaused&&n.player.playSegments(o.frames,!0):"play"===o.type?(!0===n.player.isPaused&&n.player.resetSegments(),n.player.play()):"stop"===o.type&&(n.player.goToAndStop(o.frames[0]),n.player.stop())}catch(e){}}}),c.set(this,{writable:!0,value:function(e){try{for(var t,o,r=n.boundingBoxUtils(),a=r.height,i=r.bottom,s=(r.currentPercent,r.action),l=n.container,p=0,c=0;l.offsetParent;)p+=l.offsetLeft,c+=l.offsetTop,l=l.offsetParent;if(e?(t=e.pageX,o=e.pageY):(t=window.event.x+document.body.scrollLeft-2,o=window.event.y+document.body.scrollTop-2),t-=p,o-=c,"seek-yaxis"===s.type){var y=Math.ceil(o/a*100).toString()+"%";n.playerInstance.seek(y)}else if("seek-xaxis"===s.type){var u=Math.ceil(t/i*100).toString()+"%";n.playerInstance.seek(u)}}catch(e){}}}),"object"!==e(m)||"AnimationItem"!==m.constructor.name){if("string"==typeof m){var d=document.querySelector(m);this.playerInstance=d,d&&"LOTTIE-PLAYER"===d.nodeName&&(m=d.getLottie())}else m instanceof HTMLElement&&"LOTTIE-PLAYER"===m.nodeName&&(m=m.getLottie());if(!m)throw new Error("".concat("[lottieInteractivity]:"," Specified player is invalid."),m)}"string"==typeof u&&(u=document.querySelector(u)),u||(u=m.wrapper),this.player=m,this.container=u,this.mode=f,this.actions=y,this.options=h}var y,u,f;return y=i,(u=[{key:"boundingBoxUtils",value:function(){var e=this.container.getBoundingClientRect(),t=e.top,n=e.bottom,o=e.height,r=(window.innerHeight-t)/(window.innerHeight+o);if(!(r<0||r>1)){var a=this.actions.find((function(e){var t=e.start,n=e.end;return r>=t&&r<=n}));if(a)return{height:o,bottom:n,currentPercent:r,action:a}}}},{key:"start",value:function(){"scroll"===this.mode&&window.addEventListener("scroll",r(this,p)),"hover"===this.mode&&(this.container.addEventListener("mouseenter",r(this,s)),this.container.addEventListener("mouseleave",r(this,l))),"mouseposition"===this.mode&&(this.container.onmousemove=r(this,c))}},{key:"stop",value:function(){"scroll"===this.mode&&window.removeEventListener("scroll",r(this,p)),"hover"===this.mode&&(this.container.removeEventListener("mouseenter",r(this,s)),this.container.removeEventListener("mouseleave",r(this,l)))}}])&&n(y.prototype,u),f&&n(y,f),i}(),s=new WeakMap,l=new WeakMap,p=new WeakMap,c=new WeakMap,y=function(e){var t=new i(e);return t.start(),t};export default y;export{i as LottieInteractivity,y as create};
//# sourceMappingURL=lottie-interactivity.es.js.map
